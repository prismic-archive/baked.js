### Features

- Add javascript queries: these queries contains JS code which is executed before rendering the page. They can return a value or a Q promise.
  + they are defined with `type="text/prismic-query-js"`
  + they can add more than 1 variable in the environment
    * specify `data-binding="*"` in the query tag, then return an object
  + a `form()` helper allows to call the API and get a Q promise
  + an `ajax()` helper allows to perform HTTP(S) requests and get a Q promise
  + a `jsonp()` helper allows to perform HTTP(S) requests on other domains

### Fixes

- #26 gulpfile.js's `ignore` option is no longer ignored

## 0.3.0

### Features
* New version of the Prismic kit, that comes with several new features such as fetchLinks and UID

### Fixes
* #19 don't overwrite cfg.option
* #22 Fix issue for global escape

### Potentially incompatible changes
* The updated version of the Prismic kit has changes on DocumentLink that should be transparent for most users but may require an adaptation for some cases; see https://github.com/prismicio/javascript-kit/commit/21ef7ff8d2a1ac872402528dfaa638e5f511ffd1

## 0.2.1

### Fixes

- `srcDir` or `dstDir` could not be overwritten in `gulpfile.js`.
- The dynamic browser was activated for every query strings, now only the ones containing at least `ref` or `access_token` will fire it.

## 0.2.0

### Features

- It is now possible to ignore some file/directories
  + Globbing is accepted (e.g. “`.*~`”)
  + The destination directory is automatically ignored if in the source directory
    * It is now possible to call `baked --src . --dst build` with infinite loop
- The default source directory of the `baked` command is now the current directory
  + A baked website can now be generated using only `baked` without options

### Incompatible changes

- The default directories are changed
  + The `baked` command now uses the current directory as source directory
  + The Gulp file still uses `to_generate` and `generated` by default
    * The projects using baked's `gulp.js` file should not be impacted

## 0.1.1

### Features

- Allow to use page's params in query attributes

## 0.1.0

### Incompatible changes

- The queries results are no longer arrays but prismic.io's javascript-kit's `Response` object.
  + The response elements are in its `results` field

### Features

- It it now possible to specify a ref & accessToken server side.
- Allow to display some content only when the page is generated by browser/server.
  + For this purpose, the helpers `onlyBrowser` and `onlyServer` have been introduced.
- Allow eager loading of a query results' linked documents.
  + To do so, add `data-eager="true"` in your query tag.

### Fixes

- The oauthCliendId set in the config.json file is now sent to the browser

## 0.0.8

### Changes

- Stop generating a local version of the library
  + In order to use the dynamic generation, you should either
    * refer to an official library (for instance `https://prismicio.github.io/baked.js/baked-0.0.7.js`)
    * build yourself you own version of the library and put it yourself in the generated directory
  + This change allows to simplify the use, and reduce the building time ()

## 0.0.7

### Big change

baked is now a npm module containing an executable!

This means:

- you don't have to work inside the baked.js repository anymore
- you can use baked.js without creating any gulpfile.js and package.json file

**WARNING**

Because of this change, if you worked inside the baked.js directory in order to build your website, I strongly recommand to adapt you code accordingly:

1. cleanup `package.json` and add `baked` in dependencies (look at `example/blank/package.json`)
  - since this point, you can install and use the `baked` module
2. updates your `gulpfile.js` file to load `"baked/gulp"` instead of `"./src/tasks/gulp"`
  - since this point, you are not using the local baked.js files
3. you can now delete the `src` directory since you don't need it anymore
4. If you didn't do it already, you can also delete the `example` directory and the `README.md` and `CHANGELOG.md` files.

### Features

- Only errors are now displayed by default.
  + (ok this is not an error but it's still cool)
- Add `pathToHere` helper (returns the path of the current page)
- Add `urlTo` and `urlToHere` helpers (return the full URL)
  + do not confuse the new `urlTo` helper
    and the old (badly named) helper `url_to` which returns only a path.
- Add a global configuration file, which handles:
  - the logger level
  - the API's URL
  - the base URL

### Changes

- The `url_to` helper has been renamed into `pathTo`
  + the old version is still supported by deprecated
- Replace `src_dir` and `dst_dir` by `srcDir` and `dstDir`, but it should not break existing gulpfiles
  + the `init()` helper still supports `src_dir` and `dst_dir`
  + the `parseOptions()` helper's response and the `baked.config.options` object have `src_dir` and `dst_dir` as r/w properties.

## 0.0.6

###  Features

- Templates can now include Javascript files using `require`
  - Theses files are evaluated inside the template context
  - They are cached (but it's possible to bypass the cache)
- Added `clean` task
- Fixed a bug which may block generation

## 0.0.5

### Features

- Add template partial
  - A partial is a template whose name starts by “_”. It won't be rendered directly (so it doesn't need meta like “prismic-api”) but is included in other
templates using the helper `partial`. (`[%- partial('footer') %]` will include
the partial “_footer.html.erb”)
- Add helper to change ref
- Add OAuth2 authentication
- Use [EJS](https://github.com/visionmedia/ejs) for template rendering
  - Its HTML escaping and filters are available

### Incompatible changes

- Because EJS is now used, every template returning HTML have to be fixed
(by replacing `[%= ... %]` by `[%- ... %]`) in order to stop escaping the HTML
twice.

## 0.0.4

### Features

- The dynamic mode is now based on the HTTP server
  - custom routes are honored in this mode too
  - `url_to` now accepts global paths (“`/index`” for instance)
- It is now possible to specify an `access_token` and a `ref` in the queryString

### Incompatible changes

- Split tasks “`gulp`” and “`gulp serve`”
- ⚠ Remove the generate.js file
  - Run `gulp --src <src> --dst <dst>` instead

## Fixes

- Non-template HTML files are now copied correctly
- Supports query parameter names using camelcase

## 0.0.3

### Features

- Add HTTP server to serve generated file
  - the generation is automatically performed when content is modified

### Incompatible changes

- Replace Grunt by Gulp
- ⚠ baked.js can now be runned using `node generate.js <src> <dst>` or `gulp`
  - the old way (`node src/server.js <src> <dst>`) is not working anymore
- remove `.html` from generated files

### Fixes

- Fix query escape pattern (`$$` was not escaping)
- baked: Queries can now refer to bookmarks
